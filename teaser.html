<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BangerBoy Teaser - High Stakes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Space+Grotesk:wght@700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            bangerYellow: '#FBBE2F',
            bangerRed: '#E42328',
            bangerDark: '#0F0F0F',
          },
          animation: {
            'glow-pulse': 'glow-pulse 2s infinite ease-in-out',
            'float': 'float 6s infinite ease-in-out',
          }
        }
      }
    }
  </script>

  <style>
    @keyframes glow-pulse {

      0%,
      100% {
        filter: drop-shadow(0 0 5px rgba(251, 190, 47, 0.3));
      }

      50% {
        filter: drop-shadow(0 0 20px rgba(251, 190, 47, 0.6));
      }
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    body {
      margin: 0;
      overflow: hidden;
      background-color: #050505;
      color: #FFFFFF;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: 'Inter', sans-serif;
    }

    #video-container {
      width: min(1000px, 92vw);
      height: min(562.5px, 52vw);
      max-height: 80vh;
      aspect-ratio: 16 / 9;
      background: #080808;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: 0 40px 100px -20px rgba(0, 0, 0, 0.8);
    }

    .scene {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      opacity: 0;
      pointer-events: none;
      visibility: hidden;
      transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 10;
    }

    .scene.active {
      opacity: 1;
      pointer-events: auto;
      visibility: visible;
    }

    .num {
      font-family: 'Space Grotesk', sans-serif;
      font-variant-numeric: tabular-nums;
    }

    .text-huge {
      font-size: 3rem;
      font-weight: 900;
      line-height: 1;
      text-transform: uppercase;
      letter-spacing: -0.04em;
    }

    .logo-full {
      width: 600px;
    }

    .anim-pop {
      animation: pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes pop {
      0% {
        transform: scale(0.85) translateY(20px);
        opacity: 0;
        filter: blur(10px);
      }

      100% {
        transform: scale(1) translateY(0);
        opacity: 1;
        filter: blur(0);
      }
    }

    .center-block {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: min(900px, 90%);
      text-align: center;
    }

    .center-hidden {
      display: none !important;
    }

    .answer-stamp {
      display: inline-flex;
      align-items: center;
      padding: 6px 16px;
      border: 2px solid #000;
      color: #000;
      border-radius: 4px;
      font-weight: 900;
      font-size: 0.75rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      background: transparent;
      transform: rotate(-3deg);
      margin-bottom: 2rem;
    }

    .mock-tweet {
      background: rgba(15, 15, 15, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 1.75rem;
      width: 480px;
      text-align: left;
      position: relative;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
    }

    .btn-buy-stocks {
      background: #FBBE2F;
      color: #000;
      font-weight: 900;
      padding: 12px 28px;
      border-radius: 999px;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      box-shadow: 0 4px 15px rgba(251, 190, 47, 0.3);
    }

    .grid-bg {
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at 50% 50%, rgba(251, 190, 47, 0.05) 0%, transparent 70%),
        linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
      background-size: 100% 100%, 60px 60px, 60px 60px;
      z-index: 1;
    }

    #video-container::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
      background-size: 100% 4px, 3px 100%;
      z-index: 100;
      pointer-events: none;
      opacity: 0.3;
    }

    #cursor-wrapper {
      position: absolute;
      width: 30px;
      height: 30px;
      z-index: 1000;
      pointer-events: none;
      opacity: 0;
    }

    .stat-card {
      background: linear-gradient(145deg, rgba(30, 30, 30, 0.9), rgba(15, 15, 15, 0.9));
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }

    .highlight-red {
      color: #E42328;
      text-shadow: 0 0 15px rgba(228, 35, 40, 0.4);
    }

    .yellow-gradient-text {
      background: linear-gradient(to bottom, #FFF, #FBBE2F);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>

<body>

  <div id="video-container">
    <div class="grid-bg"></div>

    <div id="cursor-wrapper">
      <svg width="30" height="30" viewBox="0 0 32 32" fill="none">
        <path d="M6 3L26 19L17 21L14 28L6 3Z" fill="white" stroke="black" stroke-width="2" />
      </svg>
    </div>

    <!-- Scene 1: The Hook (0-8.5s) -->
    <div id="scene-1" class="scene">
      <div id="s1-block-lines" class="center-block center-hidden">
        <div class="flex flex-col items-center gap-2">
          <h2 id="s1-t1" class="text-huge">YOU SPOT A <span class="text-bangerRed">BANGER</span> POST ðŸ”¥</h2>
          <h2 id="s1-t2" class="text-huge text-white/70 mt-4">YOU WATCH IT BLOW UP!</h2>
        </div>
      </div>
      <div id="s1-block-stats" class="center-block center-hidden">
        <div id="s1-stats" class="stat-card inline-flex gap-12 px-10 py-8 rounded-3xl">
          <div class="flex flex-col items-center">
            <i class="fa-solid fa-heart text-bangerRed mb-3 text-xl"></i>
            <span class="text-4xl font-black text-white"><span class="num" id="s1-likes">0</span><span
                class="text-xl ml-1 text-zinc-500">M</span></span>
            <span class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mt-2 font-bold">Likes</span>
          </div>
          <div class="flex flex-col items-center border-l border-white/5 pl-12">
            <i class="fa-solid fa-retweet text-green-500 mb-3 text-xl"></i>
            <span class="text-4xl font-black text-white"><span class="num" id="s1-retweets">0</span><span
                class="text-xl ml-1 text-zinc-500">K</span></span>
            <span class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mt-2 font-bold">Retweets</span>
          </div>
          <div class="flex flex-col items-center border-l border-white/5 pl-12">
            <i class="fa-solid fa-comment text-blue-400 mb-3 text-xl"></i>
            <span class="text-4xl font-black text-white"><span class="num" id="s1-comments">0</span><span
                class="text-xl ml-1 text-zinc-500">K</span></span>
            <span class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mt-2 font-bold">Comments</span>
          </div>
        </div>
      </div>
      <div id="s1-block-zero" class="center-block center-hidden">
        <h2 id="s1-t3" class="text-7xl font-black italic uppercase tracking-tighter">
          BUT YOU GET <span class="highlight-red">$0</span>
        </h2>
      </div>
    </div>

    <!-- Scene 2: The Proof (8.5s - 13.5s) -->
    <div id="scene-2" class="scene">
      <div class="absolute inset-0 bg-gradient-to-b from-transparent via-bangerDark/90 to-bangerDark z-1"></div>
      <div id="montage-container" class="absolute inset-0 pointer-events-none opacity-80 z-0"></div>
      <h2 id="s2-t1" class="text-5xl font-black z-20 px-8 opacity-0 tracking-tight italic">
        YOU'RE NOT ALONE
      </h2>
    </div>

    <!-- Scene 3: Transition (13.5s - 16s) -->
    <div id="scene-3" class="scene bg-bangerYellow">
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white/20 to-transparent">
      </div>
      <h2 id="s3-t1" class="text-huge italic text-bangerDark opacity-0">BUT WHAT IF...</h2>
    </div>

    <!-- Scene 4: Value Prop (16s - 23s) -->
    <div id="scene-4" class="scene">
      <h2 class="text-4xl font-black mb-12 opacity-0 tracking-tight" id="s4-t1">
        YOU COULD <span class="text-bangerYellow">OWN A PIECE</span> OF IT?
      </h2>
      <div class="mock-tweet opacity-0" id="s4-tweet">
        <div class="flex items-center justify-between mb-5">
          <div class="flex items-center gap-3">
            <div
              class="w-12 h-12 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-900 flex items-center justify-center text-xl overflow-hidden border border-white/10">
              <img src="https://pbs.twimg.com/profile_images/2008546467615580160/57KcqsTA_x96.jpg" />
            </div>
            <div>
              <div class="font-bold text-white text-[15px]">Elon Musk <i
                  class="fa-solid fa-circle-check text-blue-400 text-[10px] ml-1"></i></div>
              <div class="text-zinc-500 text-[13px]">@elonmusk</div>
            </div>
          </div>
          <button id="s4-buy-btn" class="btn-buy-stocks scale-90">BUY STOCKS</button>
        </div>
        <p class="text-white text-[18px] mb-6 leading-tight font-medium">Next Iâ€™m buying Coca-Cola to put the cocaine
          back in</p>

        <div class="border-t border-white/5 pt-4 flex justify-between text-zinc-400 text-[14px]">
          <div class="flex items-center gap-2"><i class="fa-regular fa-comment text-blue-400"></i> <span id="s4-val-1"
              class="num">0</span>K</div>
          <div class="flex items-center gap-2"><i class="fa-solid fa-retweet text-green-500"></i> <span id="s4-val-2"
              class="num">0</span>K</div>
          <div class="flex items-center gap-2 text-bangerRed"><i class="fa-solid fa-heart text-bangerRed"></i> <span
              id="s4-val-3" class="num">0</span>M</div>
          <div class="flex items-center gap-2"><i class="fa-solid fa-chart-simple"></i> <span id="s4-val-4"
              class="num">0</span>M</div>
        </div>
      </div>
    </div>

    <!-- Scene 5: Reveal (23s - 26s) -->
    <div id="scene-5" class="scene bg-bangerYellow">
      <div class="flex flex-col items-center max-w-2xl px-10">
        <h2 id="s5-t1" class="text-xl text-black/60 tracking-[0.3em] mb-8 opacity-0">INTRODUCING</h2>
        <img id="s5-logo" src="./full-logo.png" alt="BangerBoy logo" class="logo-full mt-2 opacity-0"
          onerror="this.src='https://placehold.co/600x200/FBBE2F/0F0F0F?text=BANGERBOY'" />
      </div>
    </div>

    <!-- Scene 6: Mechanics (26s - 32.5s) -->
    <div id="scene-6" class="scene">
      <div id="s6-block-1" class="center-block center-hidden">
        <h2 id="s6-t1" class="text-5xl font-black yellow-gradient-text tracking-tighter">
          THE CAPITAL MARKET<br />FOR VIRAL CONTENT
        </h2>
      </div>
      <div id="s6-block-2" class="center-block center-hidden">
        <h2 id="s6-t2" class="text-5xl font-black">
          <span class="block text-bangerYellow italic mb-2">1 POST = 1 ASSET</span>
          <span class="block text-xl uppercase tracking-[0.1em] font-bold opacity-60">NO FRAGMENTED LIQUIDITY</span>
        </h2>
      </div>
      <div id="s6-block-3" class="center-block center-hidden">
        <h2 id="s6-t3" class="text-5xl font-black">
          <span class="block text-bangerYellow italic mb-2">CREATIVITY GETS LIQUIDITY</span>
          <span class="block text-xl uppercase tracking-[0.1em] font-bold opacity-60">CREATORS EARN FEES FOR EVERY
            TRADE</span>
        </h2>
      </div>
      <div id="s6-block-4" class="center-block center-hidden">
        <h2 id="s6-t4" class="text-5xl font-black">
          <span class="block text-bangerYellow italic mb-2">TOP HOLDERS GET DIVIDENDS</span>
          <span class="block text-xl uppercase tracking-[0.1em] font-bold opacity-60">DIAMOND HANDS GETS REWARDED</span>
        </h2>
      </div>
    </div>

    <!-- Scene 7: CTA Blitz (32.5s - 36.5s) -->
    <div id="scene-7" class="scene">
      <h2 id="s7-t1" class="text-5xl font-black opacity-0 mb-8 uppercase italic tracking-tighter">
        <span class="text-bangerRed">BANGER</span> IS THE NEW<br />ASSET CLASS ðŸ“ˆ
      </h2>
      <div class="flex gap-2 uppercase font-black tracking-widest text-zinc-400">
        <div id="s7-b1" class="text-xl opacity-0">Be early.</div>
        <div id="s7-b2" class="text-xl opacity-0">Be bold.</div>
        <div id="s7-b3" class="text-xl opacity-0">Be rewarded.</div>
      </div>
    </div>

    <!-- Scene 8: Finale (36.5s+) -->
    <div id="scene-8" class="scene bg-bangerYellow">
      <div class="anim-pop flex flex-col items-center justify-center gap-6">
        <img src="./full-logo.png" alt="BangerBoy logo" class="logo-full"
          onerror="this.src='https://placehold.co/600x200/FBBE2F/0F0F0F?text=BANGERBOY'" />
        <div class="h-1 w-48 bg-bangerDark/20 rounded-full"></div>
        <p class="text-xl font-black text-bangerDark/70 tracking-wide">THE STOCK MARKET FOR VIRAL CONTENT</p>
        <p class="text-sm text-bangerDark/70 -mt-4">Visit <b>bangerboy.com</b> to start investing in Bangers</p>
      </div>
    </div>
  </div>

  <div id="controls"
    class="mt-8 flex items-center gap-6 bg-white/5 p-4 rounded-2xl border border-white/10 w-[1000px] max-w-[92vw]">
    <button id="btn-play"
      class="w-12 h-12 flex items-center justify-center bg-bangerYellow text-bangerDark rounded-full hover:scale-110 active:scale-95 transition-all shadow-lg shadow-bangerYellow/20">
      <i class="fa-solid fa-play" id="play-icon"></i>
    </button>
    <div id="progress-bar" class="flex-grow h-2 bg-white/10 rounded-full overflow-hidden relative cursor-pointer">
      <div id="progress-fill"
        class="absolute left-0 top-0 h-full bg-bangerYellow transition-all duration-100 ease-linear"></div>
    </div>
    <div class="text-sm font-mono text-zinc-500 w-28 text-right font-bold"><span id="current-time"
        class="text-white">00.0s</span> / 38.0s</div>
  </div>

  <script>
    let isPlaying = false;
    let currentTime = 0;
    const totalDuration = 38000;
    let lastTimestamp;

    const container = document.getElementById('video-container');
    const playBtn = document.getElementById('btn-play');
    const playIcon = document.getElementById('play-icon');
    const progressFill = document.getElementById('progress-fill');
    const timeDisplay = document.getElementById('current-time');
    const cursorWrapper = document.getElementById('cursor-wrapper');
    const montageContainer = document.getElementById('montage-container');
    const cursorState = { arrived: false, target: null, bounced: false };

    function animateVal(id, start, end, duration, currentMs, startTime) {
      const el = document.getElementById(id);
      if (!el) return;
      const progress = Math.min((currentMs - startTime) / duration, 1);
      if (progress < 0) { el.innerText = start; return; }
      const currentVal = (start + (end - start) * progress).toFixed(id.includes('val') ? 0 : 1);
      el.innerText = currentVal;
    }

    function resetAnimations() {
      document.querySelectorAll('.anim-pop').forEach(el => el.classList.remove('anim-pop'));
      document.querySelectorAll('.center-block').forEach(el => el.classList.add('center-hidden'));
    }

    const screenshotData = [
      { x: 10, y: 15, rot: -25 },
      { x: 75, y: 20, rot: 28 },
      { x: 15, y: 65, rot: 42 },
      { x: 70, y: 60, rot: -10 },
      { x: 45, y: 10, rot: -2 },
      { x: 80, y: 40, rot: 15 },
      { x: 5, y: 40, rot: -8 },
      { x: 40, y: 75, rot: 5 },
      { x: 22, y: 32, rot: 12 },
      { x: 60, y: 8, rot: -18 },
      { x: 85, y: 72, rot: 9 },
      { x: 8, y: 78, rot: -14 },
    ];

    function updateMontage(ms) {
      const startTime = 10000;
      const interval = 260;

      screenshotData.forEach((data, i) => {
        const triggerTime = startTime + (i * interval);
        const id = `tweet-shot-${i}`;
        let el = document.getElementById(id);

        if (ms >= triggerTime) {
          if (!el) {
            el = document.createElement('div');
            el.id = id;
            el.className = 'absolute z-0 anim-pop';
            el.style.left = data.x + '%';
            el.style.top = data.y + '%';
            el.style.transform = `rotate(${data.rot}deg)`;
            el.innerHTML = `
            <img src="${i + 1}.jpg" class="w-64 rounded-xl transition-all duration-500" />
            `;
            montageContainer.appendChild(el);
          }
        } else if (el) {
          el.remove();
        }
      });
    }

    function updateUI(ms) {
      const progress = (ms / totalDuration) * 100;
      progressFill.style.width = `${Math.min(progress, 100)}%`;
      timeDisplay.innerText = `${(ms / 1000).toFixed(1)}s`;

      document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));

      if (ms < 8500) {
        document.getElementById('scene-1').classList.add('active');
        const showLines = ms > 200 && ms < 3800;
        const showStats = ms > 3800 && ms < 6300;
        const showT3 = ms > 6300;

        const b1 = document.getElementById('s1-block-lines');
        const b2 = document.getElementById('s1-block-stats');
        const b3 = document.getElementById('s1-block-zero');

        b1.classList.toggle('center-hidden', !showLines);
        b2.classList.toggle('center-hidden', !showStats);
        b3.classList.toggle('center-hidden', !showT3);

        if (showLines) {
          document.getElementById('s1-t1').classList.add('anim-pop');
          if (ms > 2200) {
            const t2 = document.getElementById('s1-t2');
            t2.style.opacity = "1";
            t2.classList.add('anim-pop');
          } else {
            document.getElementById('s1-t2').style.opacity = "0";
          }
        }
        if (showStats) {
          document.getElementById('s1-stats').classList.add('anim-pop');
          animateVal('s1-likes', 0, 4.2, 1200, ms, 3800);
          animateVal('s1-retweets', 0, 756, 1200, ms, 3800);
          animateVal('s1-comments', 0, 169, 1200, ms, 3800);
        }
        if (showT3) document.getElementById('s1-t3').classList.add('anim-pop');
      }
      else if (ms < 13500) {
        document.getElementById('scene-2').classList.add('active');
        const t = document.getElementById('s2-t1');
        t.style.opacity = ms > 9000 ? "1" : "0";
        if (ms > 9000) t.classList.add('anim-pop');
        updateMontage(ms);
      }
      else if (ms < 16000) {
        document.getElementById('scene-3').classList.add('active');
        const t = document.getElementById('s3-t1');
        t.style.opacity = ms > 13800 ? "1" : "0";
        if (ms > 13800) t.classList.add('anim-pop');
      }
      else if (ms < 23000) {
        document.getElementById('scene-4').classList.add('active');
        const t1 = document.getElementById('s4-t1');
        const tweet = document.getElementById('s4-tweet');
        t1.style.opacity = ms > 16200 ? "1" : "0";
        tweet.style.opacity = ms > 17500 ? "1" : "0";
        if (ms > 16200) t1.classList.add('anim-pop');
        if (ms > 17500) {
          tweet.classList.add('anim-pop');
          animateVal('s4-val-1', 0, 158, 1200, ms, 17800);
          animateVal('s4-val-2', 0, 742, 1200, ms, 17800);
          animateVal('s4-val-3', 0, 3, 1200, ms, 17800);
          animateVal('s4-val-4', 0, 24, 1200, ms, 17800);
        }
        updateCursor(ms);
      }
      else if (ms < 26000) {
        document.getElementById('scene-5').classList.add('active');
        const t1 = document.getElementById('s5-t1');
        const logo = document.getElementById('s5-logo');
        t1.style.opacity = ms > 23200 ? "1" : "0";
        logo.style.opacity = ms > 24300 ? "1" : "0";
        if (ms > 23200) t1.classList.add('anim-pop');
        if (ms > 24300) logo.classList.add('anim-pop');
      }
      else if (ms < 32500) {
        document.getElementById('scene-6').classList.add('active');
        const show1 = ms >= 26000 && ms < 28500;
        const show2 = ms >= 28500 && ms < 30000;
        const show3 = ms >= 30000 && ms < 31500;
        const show4 = ms >= 31500;
        document.getElementById('s6-block-1').classList.toggle('center-hidden', !show1);
        document.getElementById('s6-block-2').classList.toggle('center-hidden', !show2);
        document.getElementById('s6-block-3').classList.toggle('center-hidden', !show3);
        document.getElementById('s6-block-4').classList.toggle('center-hidden', !show4);
        if (show1) document.getElementById('s6-t1').classList.add('anim-pop');
        if (show2) document.getElementById('s6-t2').classList.add('anim-pop');
        if (show3) document.getElementById('s6-t3').classList.add('anim-pop');
        if (show4) document.getElementById('s6-t4').classList.add('anim-pop');
      }
      else if (ms < 36500) {
        document.getElementById('scene-7').classList.add('active');
        const t1 = document.getElementById('s7-t1');
        const b1 = document.getElementById('s7-b1');
        const b2 = document.getElementById('s7-b2');
        const b3 = document.getElementById('s7-b3');
        t1.style.opacity = ms > 32600 ? "1" : "0";
        if (ms > 32600) t1.classList.add('anim-pop');
        b1.style.opacity = ms > 33800 ? "1" : "0"; if (ms > 33800) b1.classList.add('anim-pop');
        b2.style.opacity = ms > 34300 ? "1" : "0"; if (ms > 34300) b2.classList.add('anim-pop');
        b3.style.opacity = ms > 34800 ? "1" : "0"; if (ms > 34800) b3.classList.add('anim-pop');
      }
      else {
        document.getElementById('scene-8').classList.add('active');
      }
    }

    function updateCursor(ms) {
      const btn = document.getElementById('s4-buy-btn');
      const travelStart = 19500;
      const travelEnd = 20800;
      const clickTime = 21200;
      if (ms < travelStart || ms > 22800) {
        cursorWrapper.style.opacity = "0";
        cursorState.bounced = false;
        btn.style.transform = "scale(0.9)";
        return;
      }
      const cRect = container.getBoundingClientRect();
      const bRect = btn.getBoundingClientRect();
      const tx = bRect.left - cRect.left + (bRect.width / 2);
      const ty = bRect.top - cRect.top + (bRect.height / 2);
      const t = Math.min((ms - travelStart) / (travelEnd - travelStart), 1);
      const ease = t * (2 - t);
      const curX = cRect.width + (tx - cRect.width) * ease;
      const curY = cRect.height + (ty - cRect.height) * ease;
      cursorWrapper.style.transform = `translate(${curX}px, ${curY}px)`;
      cursorWrapper.style.opacity = "1";
      if (ms >= clickTime && !cursorState.bounced) {
        btn.style.transform = "scale(0.85)";
        cursorWrapper.style.transform = `translate(${curX}px, ${curY}px) scale(0.8)`;
        cursorState.bounced = true;
      } else if (ms > clickTime + 200) {
        btn.style.transform = "scale(1)";
        cursorWrapper.style.transform = `translate(${curX}px, ${curY}px) scale(1)`;
      }
    }

    function animate(timestamp) {
      if (!lastTimestamp) lastTimestamp = timestamp;
      if (isPlaying) {
        currentTime += timestamp - lastTimestamp;
        if (currentTime >= totalDuration) { currentTime = totalDuration; togglePlay(); }
      }
      lastTimestamp = timestamp;
      updateUI(currentTime);
      requestAnimationFrame(animate);
    }

    function togglePlay() {
      isPlaying = !isPlaying;
      if (currentTime >= totalDuration) {
        currentTime = 0;
        montageContainer.innerHTML = '';
        resetAnimations();
        cursorState.bounced = false;
      }
      playIcon.className = isPlaying ? 'fa-solid fa-pause' : 'fa-solid fa-play';
    }

    playBtn.addEventListener('click', togglePlay);
    document.getElementById('progress-bar').addEventListener('click', (e) => {
      const rect = e.currentTarget.getBoundingClientRect();
      currentTime = ((e.clientX - rect.left) / rect.width) * totalDuration;
      montageContainer.innerHTML = '';
      resetAnimations();
      cursorState.bounced = false;
    });
    requestAnimationFrame(animate);
  </script>
</body>

</html>
